<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Регистрация | S P M S</title>
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/4.5.2/css/bootstrap.min.css}">
    <link th:rel="stylesheet" th:href="@{/css/dashboard.css}">
    <link th:rel="stylesheet" th:href="@{/css/signform.css}">
</head>

<body>

<div sec:authorize="isAuthenticated()">
    <meta http-equiv="refresh" content="0; url=/main" />
</div>

<nav class="navbar navbar-expand-md navbar-light sticky-top bg-light shadow-sm">
    <a class="navbar-brand" th:href="@{/}">S P M S</a>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" th:href="@{/}">Главная <span class="sr-only">(current)</span></a>
            </li>
            <!--li class="nav-item">
                <a class="nav-link">Информация</a>
            </li>
            <li class="nav-item">
                <a class="nav-link">Контакты</a>
            </li-->
        </ul>
    </div>
    <!--a class="btn btn-link my-2 my-sm-0" th:href="@{/login}" role="button">Войти</a-->
</nav>

<div class="text-center">
    <form class="form-signin" th:action="@{/signup}" th:object="${userForm}" method="post">
        <!--img class="mb-4" src="https://www.picmicro.ru/images/logo_ru.png" alt="" width="100" height="72"-->
        <h1 class="h3 mb-3 font-weight-normal">Регистрация</h1>

        <div class="container">

            <div class="row">
                <div class="col mb-3">
                    <!--==label class="sr-only">Username</label-->
                    <input type="text" class="form-control" th:field="*{username}" placeholder="Имя пользователя" required>
                </div>
            </div>

            <div class="row">
                <div class="col mb-3">
                    <input type="text" class="form-control" th:field="*{name}" placeholder="Полное имя" required>
                </div>
            </div>

            <div class="row">
                <div class="col mb-3">
                    <input type="password" class="form-control" th:field="*{password}" placeholder="Пароль" required>
                </div>
            </div>

            <div class="row">
                <div class="col mb-3">
                    <!--div class="input-group-prepend">
                        <label class="input-group-text" for="roleSelector">Роль</label>
                    </div-->
                    <select class="custom-select form-control" th:field="*{userRole}">
                        <option value="" selected disabled hidden>Выберите роль</option>
                        <option th:value="${T(com.smeshariks.pms.entities.UserRole).CUSTOMER}">
                            Заказчик
                        </option>
                        <option th:value="${T(com.smeshariks.pms.entities.UserRole).WORKER}">
                            Работник
                        </option>
                        <option th:value="${T(com.smeshariks.pms.entities.UserRole).MANAGER}">
                            Менеджер
                        </option>
                        <option th:value="${T(com.smeshariks.pms.entities.UserRole).WAREHOUSEMAN}">
                            Работник склада
                        </option>
                    </select>
                </div>
            </div>

            <!--div class="row">
                <div class="col mb-1">
                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                        <div class="row">
                            <div class="col">
                                <label class="btn btn-light active">
                                    <input type="radio" th:field="*{userRole}" th:value="${T(com.smeshariks.pms.entities.UserRole).CUSTOMER}" checked> Заказчик
                                </label>
                            </div>
                            <div class="col">
                                <label class="btn btn-light">
                                    <input type="radio" th:field="*{userRole}" th:value="${T(com.smeshariks.pms.entities.UserRole).WORKER}"> Работник
                                </label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col mb-0">
                                <label class="btn btn-light">
                                    <input type="radio" th:field="*{userRole}" th:value="${T(com.smeshariks.pms.entities.UserRole).MANAGER}"> Менеджер
                                </label>
                            </div>
                            <div class="col mb-0">
                                <label class="btn btn-light">
                                    <input type="radio" th:field="*{userRole}" th:value="${T(com.smeshariks.pms.entities.UserRole).WAREHOUSEMAN}"> Кладовщик
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div-->

            <div th:if="${usernameError}" class="error alert alert-danger" role="alert">
                Пользователь с таким логином уже существует
            </div>
            <div class="row">
                <div class="col mb-3">
                    <button class="btn btn-lg btn-primary btn-block" type="submit">Зарегистрироваться</button>
                </div>
            </div>

            <div class="row">
                <div class="col mb-0">
                    <a th:href="@{/login}" class="btn btn-link">Есть аккаунт? Войдите</a>
                </div>
            </div>
        </div>

        <p class="mt-5 mb-3 text-muted">&copy; Smeshariks Inc. 2020</p>
    </form>
</div>
<script th:src="@{/webjars/jquery/3.5.1/jquery.min.js}"></script>
<script th:src="@{/webjars/popper/1.16.0/popper.min.js}"></script>
<script th:src="@{/webjars/bootstrap/4.5.2/js/bootstrap.min.js}"></script>
</body>
</html>